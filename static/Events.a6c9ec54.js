function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire17c2;n.register("7raIb",(function(a,s){var r;r=a.exports,Object.defineProperty(r,"__esModule",{value:!0,configurable:!0}),t(a.exports,"default",(()=>h));var l=n("ayMG0"),i=n("acw62"),c=n("8g1PZ"),d=n("feHvS"),o=n("j2gbl"),f=n("hjw1k"),u=n("5Qhf7"),m=n("cTqvt"),g=n("5gcka"),h=t=>{const{src:n,name:a}=t,[s,r]=(0,i.useState)([]),[h,x]=(0,i.useState)(!1);async function j(){const e=await(0,d.fetch)(n);r(e)}(0,i.useEffect)((()=>{j()}),[n]);const v=s.map(((t,n)=>(0,l.jsx)(o.default,{onDelete:j,id:t.id,className:e(c)({"last-of-day":!(0,f.default)(new Date(t.begin),new Date(s[n+1]?.begin))}),event:t},t.id)));return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)("div",{children:`${v.length} event(s)`}),(0,l.jsxs)("table",{className:e(c)("event-list",a),children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"id"}),(0,l.jsx)("th",{className:"camera"}),(0,l.jsx)("th",{className:"start"}),(0,l.jsx)("th",{className:"end"}),(0,l.jsx)("th",{className:"duration"}),(0,l.jsxs)("th",{className:"delete",onClick:async function(){if(h)return;!0===confirm(`Delete all ${s.length} events ?`)&&(x(!0),await(0,d.delet)(n),await j())},children:[(0,l.jsx)("img",{className:"danger btn",src:e(h?g:u)}),(0,l.jsx)("img",{className:"danger btn hover",src:e(h?g:m)})]})]})}),(0,l.jsx)("tbody",{children:v})]})]})}})),n.register("j2gbl",(function(a,s){t(a.exports,"default",(()=>h));var r=n("ayMG0"),l=n("acw62"),i=n("feHvS"),c=n("bpMHE"),d=n("6IhJz"),o=n("dpjX2"),f=n("cwZwg"),u=n("cTqvt"),m=n("5gcka"),g=n("bUUBt"),h=t=>{const{event:n}=t;let{id:a,begin:s,done:h,camera:x,duration:j}=n;const[v,y]=(0,l.useState)(!1);return s=(0,d.default)((0,o.default)(s),"yyyy-MM-dd HH:mm"),h=(0,d.default)((0,o.default)(h),"yyyy-MM-dd HH:mm"),(0,r.jsxs)("tr",{className:t.className,onClick:()=>(0,c.pushView)((0,r.jsx)(g.default,{event:n})),children:[(0,r.jsx)("td",{children:a}),(0,r.jsx)("td",{children:x}),(0,r.jsx)("td",{children:s}),(0,r.jsx)("td",{children:h}),(0,r.jsx)("td",{children:j}),(0,r.jsxs)("td",{className:"delete",onClick:e=>{!async function(){if(v)return;!0===confirm(`Delete event ${a} for camera ${x} ?`)&&(y(!0),await(0,i.delet)(n.delete),t?.onDelete(n))}(),e.stopPropagation()},children:[(0,r.jsx)("img",{className:"danger btn",src:e(v?m:f)}),(0,r.jsx)("img",{className:"danger btn hover",src:e(v?m:u)})]})]})}})),n.register("cwZwg",(function(e,t){e.exports=new URL(n("27Lyk").resolve("4mytQ"),import.meta.url).toString()})),n.register("cTqvt",(function(e,t){e.exports=new URL(n("27Lyk").resolve("2bBSN"),import.meta.url).toString()})),n.register("5gcka",(function(e,t){e.exports=new URL(n("27Lyk").resolve("4Fxk9"),import.meta.url).toString()})),n.register("hjw1k",(function(e,a){t(e.exports,"default",(()=>l));var s=n("cJfMa"),r=n("4LmDH");function l(e,t){(0,r.default)(2,arguments);var n=(0,s.default)(e),a=(0,s.default)(t);return n.getTime()===a.getTime()}})),n.register("5Qhf7",(function(e,t){e.exports=new URL(n("27Lyk").resolve("94IoO"),import.meta.url).toString()}));
//# sourceMappingURL=Events.a6c9ec54.js.map
